package com.bayer.ipms.model.views.ltc;

import com.bayer.ipms.model.base.IPMSViewObjectImpl;
import com.bayer.ipms.model.views.ltc.common.LtcProcessView;
import com.bayer.ipms.model.views.ltc.common.LtcProcessViewRow;
import com.bayer.ipms.model.views.common.ProjectViewRow;
import com.bayer.ipms.model.views.estimates.common.LatestEstimatesProcessViewRow;

import oracle.jbo.NameValuePairs;
import oracle.jbo.RowIterator;
import oracle.jbo.server.RowFinder;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu Jun 29 14:43:24 EEST 2017
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class LtcProcessViewImpl extends IPMSViewObjectImpl implements LtcProcessView {
    /**
     * This is the default constructor (do not remove).
     */
    public LtcProcessViewImpl() {
    }

    /**
     * Returns the variable value for ProcessId.
     * @return variable value for ProcessId
     */
    public String getProcessId() {
        return (String) ensureVariableManager().getVariableValue("ProcessId");
    }

    /**
     * Sets <code>value</code> for variable ProcessId.
     * @param value value to bind as ProcessId
     */
    public void setProcessId(String value) {
        ensureVariableManager().setVariableValue("ProcessId", value);
    }

    /**
     * Returns the variable value for LetIdVar.
     * @return variable value for LetIdVar
     */
    public String getLetIdVar() {
        return (String) ensureVariableManager().getVariableValue("LetIdVar");
    }

    /**
     * Sets <code>value</code> for variable LetIdVar.
     * @param value value to bind as LetIdVar
     */
    public void setLetIdVar(String value) {
        ensureVariableManager().setVariableValue("LetIdVar", value);
    }
    
    public LtcProcessViewRow getRowById(String id) {

        RowFinder rf = this.lookupRowFinder("RowById");
        NameValuePairs nvp = new NameValuePairs();
        nvp.setAttribute("Id", id);
        RowIterator ri = rf.execute(nvp, this);

        return (LtcProcessViewRow) ri.next();
    }

    public Boolean isNextYearProcessAvailable(String letId) {

        RowFinder rf = this.lookupRowFinder("NextYearProcesses");
        NameValuePairs nvp = new NameValuePairs();
        nvp.setAttribute("LetId", letId);

        RowIterator ri = rf.execute(nvp, this);

        return (Boolean) ri.hasNext();
    }    
}

