package com.bayer.ipms.model.views;

import com.bayer.ipms.model.base.IPMSViewObjectImpl;

import java.math.BigDecimal;

import java.sql.PreparedStatement;

import java.sql.SQLException;

import java.text.SimpleDateFormat;

import java.util.Date;

import javax.faces.component.UIComponent;

import oracle.jbo.JboException;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu Jun 18 14:31:08 EEST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ProjectGoalViewImpl extends IPMSViewObjectImpl {
    /**
     * This is the default constructor (do not remove).
     */
    public ProjectGoalViewImpl() {
       
    }


    /**
     * Returns the variable value for SearchGoalType.
     * @return variable value for SearchGoalType
     */
    public String getSearchGoalType() {
        return (String) ensureVariableManager().getVariableValue("SearchGoalType");
    }

    /**
     * Sets <code>value</code> for variable SearchGoalType.
     * @param value value to bind as SearchGoalType
     */
    public void setSearchGoalType(String value) {
        ensureVariableManager().setVariableValue("SearchGoalType", value);
    }

    /**
     * Returns the bind variable value for SearchTargetYearVar.
     * @return bind variable value for SearchTargetYearVar
     */
    public BigDecimal getSearchTargetYearVar() {
        return (BigDecimal) getNamedWhereClauseParam("SearchTargetYearVar");
    }

    /**
     * Sets <code>value</code> for bind variable SearchTargetYearVar.
     * @param value value to bind as SearchTargetYearVar
     */
    public void setSearchTargetYearVar(BigDecimal value) {
        setNamedWhereClauseParam("SearchTargetYearVar", value);
    }
    
    public int getCurrentYear(){
        
            Date date = new Date();
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy");
            int ret =Integer.parseInt(sdf.format(date).toString());
            return ret;
    }
    
    public void deleteGoal() {
       ProjectGoalViewRowImpl row =  (ProjectGoalViewRowImpl)this.getCurrentRow();
       PreparedStatement pstmt = this.getDBTransaction().createPreparedStatement("delete from GOAL where id = ?", -1);
        try {
            pstmt.setInt(1, row.getId().intValueExact());
            pstmt.execute();
            this.getDBTransaction().commit();
            
        } catch (SQLException e) {
             throw new JboException(e);
        }
        
     
             
        
    }
    
  
    
}

