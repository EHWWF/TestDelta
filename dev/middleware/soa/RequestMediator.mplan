<?xml version = '1.0' encoding = 'UTF-8'?>
<!--Generated by Oracle SOA Modeler version 1.0 at [1/4/13 3:03 PM].-->
<Mediator name="RequestMediator" 
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xmlns="http://xmlns.oracle.com/sca/1.0/mediator"
        wsdlTargetNamespace="http://xmlns.oracle.com/pcbpel/adapter/AQ/IPMS/soa/RequestService"
        xmlns:ns1="http://xmlns.bayer.com/ipms"
        xmlns:ns2="http://xmlns.bayer.com/ipms/soa"
          xmlns:ns3="http://xmlns.bayer.com/ipms/qplan">
  <operation name="dequeue" deliveryPolicy="AllOrNothing" priority="4"
             validateSchema="true">
    <switch>
      <case executionType="direct" name="ResponseService.enqueue">
        <action>
          <assign>
            <copy target="$out.response/msg_out:response/ns1:accept/@compositeId"
                  expression="med:getCompositeInstanceId()"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.response/msg_out:response/@compositeId"
                  expression="med:getCompositeInstanceId()"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
            <copy target="$out.response/msg_out:response/ns1:accept/@id"
                  expression="$in.request/msg_out:request/@id"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:ns1="http://xmlns.bayer.com/ipms"/>
            <copy target="$out.response/msg_out:response/@id"
                  expression="$in.request/msg_out:request/@id"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="ResponseService" operation="enqueue"/>
        </action>
      </case>

      <case executionType="direct"
            name="ReadConfiguration.ReadConfigurationService.processRead">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns2:config)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('ReadConf:',$in.request/client:request/@id))"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.payload/client:read"
                  expression="$in.request/client:request/client:read"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="ReadConfiguration.ReadConfigurationService"
                  operation="processRead">
            <onCallback operation="callbackRead">
              <assign>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
                <copy target="$out.response/client:response"
                      expression="$in.payload/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>

      <case executionType="direct"
            name="IdentifyService.start">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:identify)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.parameters/tns:start/tns6:identify" expression="$in.request/tns6:request/tns6:identify"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:tns="http://xmlns.bayer.com/ipms/soa/IdentifyProject"
                  xmlns:tns6="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('IdentifyProject:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa" xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
            <copy expression="med:getCompositeInstanceId()"
                  target="$out.parameters/ns3:start/msg_out:identify/@compositeId"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa" xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:ns3="http://xmlns.bayer.com/ipms/soa/IdentifyProject"/>
          </assign>
          <invoke reference="IdentifyService" operation="start">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/tns6:response"
                      expression="$in.parameters/tns:callbackResponse/tns6:response"
                      xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                      xmlns:tns="http://xmlns.bayer.com/ipms/soa/IdentifyProject"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
                <copy target="$out.response/tns6:response/*/@id"
                      expression="$in.parameters/tns:callbackResponse/tns6:response/@id"
                      xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                      xmlns:tns="http://xmlns.bayer.com/ipms/soa/IdentifyProject"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>

      <case executionType="direct"
            name="EstimateService.start">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:estimate)&gt;0 and $in.request/ns2:request/ns2:estimate/@componentName='EstimateCosts'</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.parameters/tns:start/tns6:estimate"
                  expression="$in.request/tns6:request/tns6:estimate"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                  xmlns:tns="http://xmlns.bayer.com/ipms/soa/EstimateCosts"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('EstimateCosts:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
            <copy target="$out.parameters/tns:start/tns6:estimate/@compositeId"
                  expression="med:getCompositeInstanceId()"
                  xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:tns="http://xmlns.bayer.com/ipms/soa/EstimateCosts"/>
          </assign>
          <invoke reference="EstimateService" operation="start">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.parameters/ns2:callbackResponse/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:ns2="http://xmlns.bayer.com/ipms/soa/EstimateCosts"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      
      <case executionType="sequential" name="EstimateLTC.start">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:estimate)&gt;0 and $in.request/ns2:request/ns2:estimate/@componentName='EstimateLTC'</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:estimate"
                  target="$out.parameters/ns3:start/msg_out:estimate"
                  xmlns:ns3="http://xmlns.oracle.com/bpmn/bpmnProcess/EstimateLTC"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy expression="med:getCompositeInstanceId()"
                  target="$out.parameters/ns3:start/msg_out:estimate/@compositeId"
                  xmlns:ns3="http://xmlns.oracle.com/bpmn/bpmnProcess/EstimateLTC"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa" xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="EstimateLTC" operation="start">
            <onCallback operation="callback">
              <assign>
                <copy expression="$in.parameters/tns:callbackResponse/tns6:response"
                      target="$out.response/tns6:response"
                      xmlns:tns="http://xmlns.oracle.com/bpmn/bpmnProcess/EstimateLTC"
                      xmlns:tns6="http://xmlns.bayer.com/ipms/soa"/>
                <copy expression="med:getCompositeInstanceId()" target="$out.response/tns6:response/@compositeId"
                      xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      
      <case executionType="direct"
            name="TerminateProcessService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:terminate)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:terminate"
                  expression="$in.request/ns1:request/ns1:terminate"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('TerminateProcess:',$in.request/msg_out:request/@id))"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="TerminateProcessService" operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ns1:response"
                      expression="$in.payload/ns1:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>          
        </action>
      </case>
      <case executionType="direct"
            name="MoveProject.MoveProjectService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:move/ns1:project)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:move"
                  expression="$in.request/ns1:request/ns1:move"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('MoveProject:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="MoveProject.MoveProjectService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ns1:response"
                      expression="$in.payload/ns1:response"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="CreateProgram.CreateProgramService.process_2">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:create/ns1:program)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:create"
                  expression="$in.request/ns1:request/ns1:create"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('CreateProgram:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="CreateProgram.CreateProgramService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ns1:response"
                      expression="$in.payload/ns1:response"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="CreateProject.CreateProjectService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:create/ns1:project)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:create"
                  expression="$in.request/ns1:request/ns1:create"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('CreateProject:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                    
          </assign>
          <invoke reference="CreateProject.CreateProjectService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ns1:response"
                      expression="$in.payload/ns1:response"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="DeleteProgram.DeleteProgramService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:delete/ns1:program)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:delete"
                  expression="$in.request/ns1:request/ns1:delete"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('DeleteProgram:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="DeleteProgram.DeleteProgramService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="DeleteProject.DeleteProjectService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:delete/ns1:project)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:delete"
                  expression="$in.request/msg_out:request/msg_out:delete"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('DeleteProject:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="DeleteProject.DeleteProjectService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ns1:response"
                      expression="$in.payload/ns1:response"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="ReadProgram.ReadProgramService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:program)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:read"
                  expression="$in.request/msg_out:request/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('ReadProgram:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                    
          </assign>
          <invoke reference="ReadProgram.ReadProgramService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="ReadProject.ReadProjectService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:project)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:read"
                  expression="$in.request/msg_out:request/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('ReadProject:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                    
          </assign>
          <invoke reference="ReadProject.ReadProjectService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"
                      xmlns:ns1="http://xmlns.bayer.com/ipms"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateTimeline.updateTimelineService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:timeline)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:update"
                  expression="$in.request/ns1:request/ns1:update"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateTimeline:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                    
          </assign>
          <invoke reference="UpdateTimeline.updateTimelineService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateFunctions.UpdateFunctionsService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:functions)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:update"
                  expression="$in.request/ns1:request/ns1:update"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateFunctions:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="UpdateFunctions.UpdateFunctionsService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateProgram.UpdateProgramService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:program)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:update"
                  expression="$in.request/ns1:request/ns1:update"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateProgram:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="UpdateProgram.UpdateProgramService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="ReadTimeline.ReadTimelineService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:timeline)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:read"
                  expression="$in.request/msg_out:request/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('ReadTimeline:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="ReadTimeline.ReadTimelineService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateRoles.UpdateRolesService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:roles)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:update"
                  expression="$in.request/msg_out:request/msg_out:update"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateRoles:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="UpdateRoles.UpdateRolesService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"
                      xmlns:ns1="http://xmlns.bayer.com/ipms"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateProject.UpdateProjectService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:project)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:update"
                  expression="$in.request/msg_out:request/msg_out:update"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateProject:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="UpdateProject.UpdateProjectService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="PublishTimeline.PublishTimelineService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:publish)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/ns1:publish"
                  expression="$in.request/ns1:request/ns1:publish"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('PublishTimeline:',$in.request/ns1:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="PublishTimeline.PublishTimelineService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/ns1:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="SummarizeTimeline.SummarizeService.process_2">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:summarize)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:summarize"
                  expression="$in.request/msg_out:request/msg_out:summarize"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('SummarizeTimeline:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="SummarizeTimeline.SummarizeService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/client:response"
                      expression="$in.payload/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/client:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="SummarizeTimeline.SummarizeService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:publish)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/client:summarize/ns1:timeline"
                  expression="$in.request/client:request/client:publish/ns1:timeline"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:ns1="http://xmlns.bayer.com/ipms"/>
            <copy target="$out.payload/msg_out:summarize/@id"
                  expression="$in.request/msg_out:request/msg_out:publish/@id"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.payload/client:summarize/@bounded"
                  expression='"true"'
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('PublishSumTimeline:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                   
          </assign>
          <invoke reference="SummarizeTimeline.SummarizeService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/client:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="UpdateUsers.UpdateUsersService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:users)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/msg_out:update"
                  expression="$in.request/msg_out:request/msg_out:update"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('UpdateUsers:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>                 
          </assign>
          <invoke reference="UpdateUsers.UpdateUsersService"
                  operation="process">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/client:response"
                      expression="$in.payload/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct" name="SendEmailService.execute">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:notify/ns1:notification)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/client:notify"
                  expression="$in.request/client:request/client:notify"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('SendEmail:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="SendEmailService" operation="execute">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="ProvideAssumptionsService.start">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:greenList)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.parameters/tns:start/tns6:greenList"
                  expression="$in.request/tns6:request/tns6:greenList"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                  xmlns:tns="http://xmlns.bayer.com/ipms/soa/ProvideAssumptions"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('ProvideAssumptions:',$in.request/msg_out:request/@id))"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
            <copy target="$out.parameters/tns:start/tns6:greenList/@compositeId"
                  expression="med:getCompositeInstanceId()"
                  xmlns:tns6="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:tns="http://xmlns.bayer.com/ipms/soa/ProvideAssumptions"/>
          </assign>
          <invoke reference="ProvideAssumptionsService" operation="start">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.parameters/ns2:callbackResponse/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:ns2="http://xmlns.bayer.com/ipms/soa/ProvideAssumptions"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct" name="QuickPlanService.execute">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns3:callQPlan)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.request/ns2:callQPlan"
                  expression="$in.request/msg_out:request/ns2:callQPlan"
                  xmlns:ns2="http://xmlns.bayer.com/ipms/qplan"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('CallQPlan:', $in.request/msg_out:request/@id))"
                  xmlns:ns1="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="QuickPlanService" operation="execute">
            <onCallback operation="callback">
              <assign>
                <copy target="$out.response/ipms-soa:response"
                      expression="$in.callback/ipms-soa:response"
                      xmlns:ipms-soa="http://xmlns.bayer.com/ipms/soa"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="CreateSandbox.CreateSandboxService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:create/ns1:sandbox)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/client:create"
                  expression="$in.request/client:request/client:create"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:ns1="http://xmlns.bayer.com/ipms"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('CreateSandbox:',$in.request/client:request/@id))"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="CreateSandbox.CreateSandboxService"
                  operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy target="$out.response/client:response"
                      expression="$in.payload/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:ns1="http://xmlns.bayer.com/ipms"/>
                <copy target="$out.response/client:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="direct"
            name="DeleteSandbox.DeleteSandboxService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:delete/ns1:sandbox)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy target="$out.payload/client:delete"
                  expression="$in.request/client:request/client:delete"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
            <copy target="$out.property.tracking.compositeInstanceTitle"
                  expression="med:setCompositeInstanceTitle(concat('DeleteSandbox:',$in.request/client:request/@id))"
                  xmlns:client="http://xmlns.bayer.com/ipms/soa"
                  xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="DeleteSandbox.DeleteSandboxService"
                  operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy target="$out.response/msg_out:response"
                      expression="$in.payload/msg_out:response"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
                <copy target="$out.response/msg_out:response/@compositeId"
                      expression="med:getCompositeInstanceId()"
                      xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="DeleteBaselines.DeleteBaselines.process">
        <condition language="xpath">
          <expression>exists($in.request/ns2:request/ns2:delete/ns1:baselines)</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:delete" target="$out.payload/msg_out:delete"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy expression="med:getCompositeInstanceId()" target="$out.payload/msg_out:delete/@compositeId"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa" xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="DeleteBaselines.DeleteBaselines" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/ns1:response" target="$out.response/ns1:response"
                      xmlns:ns1="http://xmlns.bayer.com/ipms/soa"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="ReadEmployee.ReadEmployeeService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:ldap)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:read" target="$out.payload/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy expression="concat('ReadEmployee:',$in.request/msg_out:request/@id)"
                  target="$out.property.tracking.compositeInstanceTitle"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="ReadEmployee.ReadEmployeeService" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/client:response" target="$out.response/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy expression="med:getCompositeInstanceId()" target="$out.response/client:response/@compositeId"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="ReadLeadStudies.ReadLeadStudiesService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:leadStudies) &gt; 0</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:read" target="$out.payload/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="ReadLeadStudies.ReadLeadStudiesService" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/client:response" target="$out.response/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy expression="med:getCompositeInstanceId()" target="$out.response/client:response/@compositeId"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="UpdateLeadStudies.UpdateLeadStudiesService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:update/ns1:leadStudies) &gt; 0</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:update" target="$out.payload/msg_out:update"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="UpdateLeadStudies.UpdateLeadStudiesService" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/client:response" target="$out.response/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="ReadBaseline.ReadBaselineService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:read/ns1:baseline)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:read" target="$out.payload/msg_out:read"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
          </assign>
          <invoke reference="ReadBaseline.ReadBaselineService" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/client:response" target="$out.response/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy expression="med:getCompositeInstanceId()" target="$out.response/client:response/@compositeId"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>
      <case executionType="sequential" name="DeleteStudy.DeleteStudyService.process">
        <condition language="xpath">
          <expression>count($in.request/ns2:request/ns2:delete/ns1:wbsNodes/ns1:wbs)&gt;0</expression>
        </condition>
        <action>
          <assign>
            <copy expression="$in.request/msg_out:request/msg_out:delete" target="$out.payload/msg_out:delete"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa"/>
            <copy expression="med:getCompositeInstanceId()" target="$out.payload/msg_out:delete/@compositeId"
                  xmlns:msg_out="http://xmlns.bayer.com/ipms/soa" xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
          </assign>
          <invoke reference="DeleteStudy.DeleteStudyService" operation="process">
            <onCallback operation="processResponse">
              <assign>
                <copy expression="$in.payload/client:response" target="$out.response/client:response"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"/>
                <copy expression="med:getCompositeInstanceId()" target="$out.response/client:response/@compositeId"
                      xmlns:client="http://xmlns.bayer.com/ipms/soa"
                      xmlns:med="http://schemas.oracle.com/mediator/xpath"/>
              </assign>
              <forward reference="ResponseService" operation="enqueue"/>
            </onCallback>
          </invoke>
        </action>
      </case>

    </switch>
  </operation>
</Mediator>